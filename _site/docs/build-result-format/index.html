<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Build Result Format</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="ClusterRunner">
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
</head>


<body class="wrap">
  <header>
  <div class="os-banner hide-on-mobiles">
    <div class="grid one-third">
        <a href="http://opensource.box.com/"><img src="http://opensource.box.com/assets/images/logo.png"></a>
    </div>
  </div>

  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <a href="/docs/home/">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="/news/">Blog</a>
  </li>
  <li>
    <a href="https://github.com/box/ClusterRunner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles" style="padding:25px 0 20px 0">
      <h1>
        <a href="/">
          <span>ClusterRunner</span>
          <img src="/img/box_clusterrunner_sml.png" height="80" alt="Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="current">
    <a href="/docs/home/">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="/news/">Blog</a>
  </li>
  <li>
    <a href="https://github.com/box/ClusterRunner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
</header>

    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    <optgroup label="Getting Started">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/home/">Welcome</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/features/">Features</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/installation/">Installation</option>
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/quickstart/">Quick Start</option>
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Tutorials">
      


  

  
    
  
    
  
    
  
    
  
    
      <option value="/docs/configuring-your-project/">Configuring Your Job</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
      <option value="/docs/ci-integration/">Integrating with CI</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Reference">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/job-configuration/">Job Configuration</option>
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/service-configuration/">Service Configuration</option>
    
  
    
  
    
  

  

  
    
      <option value="/docs/api-docs/">API Docs</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
      <option value="/docs/build-result-format/">Build Result Format</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Contribute">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
      <option value="/docs/development-guide/">Development Guide</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
  </select>
</div>


      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    <h4>Getting Started</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/home/">Welcome</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/features/">Features</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/installation/">Installation</a></li>
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/quickstart/">Quick Start</a></li>
    
  
    
  
    
  
    
  


</ul>

    
    <h4>Tutorials</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/configuring-your-project/">Configuring Your Job</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/ci-integration/">Integrating with CI</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
    <h4>Reference</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/job-configuration/">Job Configuration</a></li>
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/service-configuration/">Service Configuration</a></li>
    
  
    
  
    
  


  

  
    
  

  
    
      <li class=""><a href="/docs/api-docs/">API Docs</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  
    
  

  
    
  
    
  
    
      <li class="current"><a href="/docs/build-result-format/">Build Result Format</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
    <h4>Contribute</h4>
    

<ul>

  

  
    
  

  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="/docs/development-guide/">Development Guide</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
  </aside>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>Build Result Format</h1>
          <p>Whether you are using the command line runner, or making <a href="/docs/api-docs">API</a> calls directly, ClusterRunner 
will return a tarball containing all of the build artifacts upon build completion. </p>

<p>This tarball not only contains the build artifacts explicitly placed in $ARTIFACT_DIR in your 
<a href="/docs/job-configuration">clusterrunner.yaml</a> file, but also some files generated by ClusterRunner that
provide useful information about your build.</p>

<div class="note info">
    <p>If you're using a CI tool to
    <a href="http://localhost:4000/docs/ci-integration/#publish-build-results-in-ci">process your build
    results</a>, it's unlikely you'll need to interact with these build results manually.</p>
</div>

<h2 id="directory-structure">Directory Structure</h2>

<p>Once you have untarred the build result, you will be presented with a list of directories that begin with the
prefix <i>artifact_</i>, as well as possibly a single file named <i>failures.txt</i>.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">drwxr-xr-x  user  group  artifact_0_0
drwxr-xr-x  user  group  artifact_0_1
drwxr-xr-x  user  group  artifact_0_2
drwxr-xr-x  user  group  artifact_1_0
drwxr-xr-x  user  group  artifact_1_1
drwxr-xr-x  user  group  artifact_2_0
...
-rw-r--r--  user  group  failures.txt</code></pre></div>

<p>Ignore the numbered suffixes–that is an implementation detail you don’t need to worry about. </p>

<h3 id="the-artifact-directory">The artifact directory</h3>

<p>There will be one artifact directory for each atom of work that was generated in the atomizers section of your
<a href="/docs/job-configuration">clusterrunner.yaml</a> file.</p>

<p>Delving into one of these directories, you will see four files generated for you by ClusterRunner, as well as
any build artifacts you dropped into $ARTIFACT_DIR. All ClusterRunner-generated filenames are prefixed by the
string <i>clusterrunner_</i>.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">-rw-r--r--  user  group  clusterrunner_command
-rw-r--r--  user  group  clusterrunner_console_output
-rw-r--r--  user  group  clusterrunner_exit_code
-rw-r--r--  user  group  clusterrunner_time
-rw-r--r--  user  group  result.xml</code></pre></div>

<p>In this example, a single build artifact was generated during the build for this atom as $ARTIFACT/result.xml.</p>

<p>The contents of the four generated files are easy to guess by their names.</p>

<div class="mobile-side-scroller">
<table>
  <thead>
    <tr>
      <th>File</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr class="setting">
      <td>
        <p class="name"><strong>clusterrunner_command</strong></p>
      </td>
      <td>
        <p>The generated shell command that was executed to produce this result. This comes in handy when 
        a test fails and you want to reproduce the failure by hand.</p>
      </td>
    </tr>
    <tr class="setting">
      <td>
        <p class="name"><strong>clusterrunner_console_output</strong></p>
      </td>
      <td>
        <p>The stdout and stderr output from running this test.</p>
      </td>
    </tr>
    <tr class="setting">
      <td>
        <p class="name"><strong>clusterrunner_exit_code</strong></p>
      </td>
      <td>
        <p>The exit code the test exited with.</p>
      </td>
    </tr>
    <tr class="setting">
      <td>
        <p class="name"><strong>clusterrunner_time</strong></p>
      </td>
      <td>
        <p>The number of seconds it took for this test to complete.</p>
      </td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="the-failurestxt-file">The failures.txt file</h3>

<p>If every test execution completes with an exit code of 0, then the failures.txt file will not exist in the 
build artifact you get returned. In other cases however, this file will contain the <i>artifact_</i>
directory names of all tests that exited with a non-zero exit code.</p>

<p>Lets say you completed a build with two tests that failed. In that scenario, your failures.txt file may
look as such:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">artifact_21_4
artifact_54_1</code></pre></div>

<p>You would then inspect the artifact_21_4/ and artifact_54_1/ directories for the console output and any
build-specific artifacts to either debug the tests, or report the errors to the appropriate source.</p>

          <div class="section-nav">
  <div class="left align-right">
    
      
      
      
        

          
          

        
        
      
        

          
          
            
          

        

          
          
            <a href="/docs/api-docs/" class="prev">Back</a>
            
            
        

      
    
  </div>

  <div class="right align-left">
    
      
      
      
        

          
          

        

          
          

        

          
          

        

          
          

        
        
      
        

          
          

        

          
          

        
        
      
        

          
          

        

          
          

        

          
          

        

          
          
            
          

        
        
      
        

          
          
            <a href="/docs/development-guide/" class="next">Next</a>
            
            
        

      
    
  </div>
  <div class="clear"></div>
</div>


        </article>
      </div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>Box Open Source</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Proudly hosted by
        <a href="https://github.com">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  
  <!-- Gauges (http://gaug.es/) -->
  <script>
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', 'ZZZ');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>



  <!-- Google Analytics (http://google.com/analytics) -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'ZZZ', 'clusterrunner.com');
    ga('send', 'pageview');

  </script>



</body>
</html>
